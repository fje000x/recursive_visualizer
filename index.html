<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AlgoFlowz — Algorithm Visualizer for Coding Interviews</title>

    <!-- SEO -->
    <meta name="description" content="Step through the top 150 coding interview problems frame by frame. Watch DFS, BFS, recursion, two pointers, sliding window, and more unfold in real time on trees, arrays, and stacks.">

    <!-- Open Graph (LinkedIn, Discord, iMessage, etc.) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://algoflowz.com">
    <meta property="og:title" content="AlgoFlowz — See the Algorithm. Understand the Logic.">
    <meta property="og:description" content="A curated, step-by-step algorithm visualizer for the top 150 coding interview problems — trees, arrays, DFS, BFS, stacks, and more.">
    <meta property="og:image" content="https://algoflowz.com/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AlgoFlowz — Algorithm Visualizer for Coding Interviews">
    <meta name="twitter:description" content="Step through DFS, BFS, recursion, and more on real data structures. The tool I wish I had when learning algorithms.">
    <meta name="twitter:image" content="https://algoflowz.com/og-image.png">

    <!-- Theme color (mobile browser bar) -->
    <meta name="theme-color" content="#0f172a">

    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ===== LANDING PAGE OVERLAY ===== -->
    <div id="landingOverlay" class="landing-overlay">
        <div class="landing-scroll-container">
            <!-- Landing Nav -->
            <nav class="landing-nav">
                <div class="landing-nav-inner">
                    <div class="landing-nav-logo">
                        <svg viewBox="0 0 222 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <line x1="22" y1="14" x2="28" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                            <line x1="46" y1="14" x2="52" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                            <line x1="70" y1="14" x2="76" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                            <line x1="94" y1="14" x2="104" y2="14" stroke="rgba(255,255,255,0.15)" stroke-width="1" stroke-dasharray="2 2"/>
                            <line x1="122" y1="14" x2="128" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                            <line x1="146" y1="14" x2="152" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                            <line x1="170" y1="14" x2="176" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                            <line x1="194" y1="14" x2="200" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                            <circle cx="12" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                            <text x="12" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">A</text>
                            <circle cx="36" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                            <text x="36" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">L</text>
                            <circle cx="60" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                            <text x="60" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">G</text>
                            <circle cx="84" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                            <text x="84" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">O</text>
                            <circle cx="114" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                            <text x="114" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">F</text>
                            <circle cx="138" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                            <text x="138" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">L</text>
                            <circle cx="162" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                            <text x="162" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">O</text>
                            <circle cx="186" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                            <text x="186" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">W</text>
                            <circle cx="210" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                            <text x="210" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">Z</text>
                        </svg>
                    </div>
                    <div class="landing-nav-actions">
                        <button class="landing-nav-cta" id="landingNavCTA">
                            Start Exploring <i class="fas fa-arrow-right"></i>
                        </button>
                        <div class="landing-auth-wrapper">
                            <button class="landing-nav-auth" id="landingAuthBtn" type="button">
                                <span class="landing-avatar" id="landingAvatar"><i class="fas fa-user"></i></span>
                                <span id="landingAuthLabel">Log in</span>
                            </button>
                            <div id="landingAuthDropdown" class="nav-auth-dropdown landing-auth-dropdown">
                                <div class="auth-dd-user" id="landingDdUser">
                                    <div class="auth-dd-avatar" id="landingDdAvatar">U</div>
                                    <div class="auth-dd-info">
                                        <span class="auth-dd-name" id="landingDdName">User</span>
                                        <span class="auth-dd-email" id="landingDdEmail">user@example.com</span>
                                    </div>
                                </div>
                                <div class="auth-dd-divider"></div>
                                <button class="auth-dd-item" id="landingDdNotesBtn" type="button">
                                    <i class="fas fa-book"></i> My Notes
                                </button>
                                <button class="auth-dd-item" id="landingDdFeedbackBtn" type="button">
                                    <i class="fas fa-comment-dots"></i> Send Feedback
                                </button>
                                <button class="auth-dd-item auth-dd-logout" id="landingDdLogoutBtn" type="button">
                                    <i class="fas fa-sign-out-alt"></i> Log Out
                                </button>
                            </div>
                        </div>
                    </div>
                    <button class="theme-toggle" id="themeToggle3" title="Toggle light/dark mode">
                        <i class="fas fa-sun"></i>
                    </button>
                </div>
            </nav>

            <!-- Hero Section -->
            <section class="landing-hero">
                <div class="landing-hero-content">
                    <h1 class="landing-title">Watch every algorithm<br><span class="landing-accent">unfold in real time.</span></h1>
                    <p class="landing-subtitle">Step through 150+ of the most common coding interview problems frame by frame. Trees, arrays, graphs, two pointers, sliding window, BFS, DFS, stacks — every major pattern, visualized.</p>
                    <div class="landing-search-wrapper" id="landingSearchWrapper">
                        <i class="fas fa-search landing-search-icon"></i>
                        <input type="text" id="landingSearchInput" class="landing-search-input" placeholder="Search by name or LeetCode problem..." autocomplete="off" />
                        <div class="landing-search-dropdown" id="landingSearchDropdown"></div>
                    </div>
                    <div class="landing-hero-actions">
                        <button id="landingCTA" class="landing-cta-btn">
                            Start Exploring <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </section>


            <!-- Feature 1: Tree Visualization -->
            <section class="landing-section landing-section-alt">
                <div class="landing-feature">
                    <div class="landing-feature-text reveal-on-scroll">
                        <h2 class="landing-section-title">See how algorithms move, step by step</h2>
                        <p>Follow every node visit, every comparison, every pointer shift — on live, interactive data structures that update in real time as the algorithm executes.</p>
                    </div>
                    <div class="landing-feature-visual reveal-on-scroll">
                        <svg class="feature-svg" viewBox="0 0 360 260" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <!-- Base edges (dim) -->
                            <line x1="180" y1="52" x2="90" y2="132" stroke="#1e293b" stroke-width="2"/>
                            <line x1="180" y1="52" x2="270" y2="132" stroke="#1e293b" stroke-width="2"/>
                            <line x1="270" y1="132" x2="210" y2="212" stroke="#1e293b" stroke-width="2"/>
                            <line x1="270" y1="132" x2="330" y2="212" stroke="#1e293b" stroke-width="2"/>
                            <!-- Active edge overlays (animate per DFS step) -->
                            <line class="dfs-edge dfs-edge-3-9"   x1="180" y1="52" x2="90"  y2="132" stroke="#3b82f6" stroke-width="2.5" opacity="0"/>
                            <line class="dfs-edge dfs-edge-3-20"  x1="180" y1="52" x2="270" y2="132" stroke="#3b82f6" stroke-width="2.5" opacity="0"/>
                            <line class="dfs-edge dfs-edge-20-15" x1="270" y1="132" x2="210" y2="212" stroke="#3b82f6" stroke-width="2.5" opacity="0"/>
                            <line class="dfs-edge dfs-edge-20-7"  x1="270" y1="132" x2="330" y2="212" stroke="#3b82f6" stroke-width="2.5" opacity="0"/>
                            <!-- Node: 3 (root) -->
                            <circle class="dfs-node dfs-n3" cx="180" cy="44" r="22" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
                            <text class="dfs-text dfs-t3" x="180" y="49" font-family="JetBrains Mono, monospace" font-weight="600" font-size="13" fill="#cbd5e1" text-anchor="middle">3</text>
                            <!-- Node: 9 -->
                            <circle class="dfs-node dfs-n9" cx="90" cy="124" r="22" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
                            <text class="dfs-text dfs-t9" x="90" y="129" font-family="JetBrains Mono, monospace" font-weight="600" font-size="13" fill="#cbd5e1" text-anchor="middle">9</text>
                            <!-- Node: 20 -->
                            <circle class="dfs-node dfs-n20" cx="270" cy="124" r="22" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
                            <text class="dfs-text dfs-t20" x="270" y="129" font-family="JetBrains Mono, monospace" font-weight="600" font-size="13" fill="#cbd5e1" text-anchor="middle">20</text>
                            <!-- Node: 15 -->
                            <circle class="dfs-node dfs-n15" cx="210" cy="204" r="22" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
                            <text class="dfs-text dfs-t15" x="210" y="209" font-family="JetBrains Mono, monospace" font-weight="600" font-size="13" fill="#cbd5e1" text-anchor="middle">15</text>
                            <!-- Node: 7 -->
                            <circle class="dfs-node dfs-n7" cx="330" cy="204" r="22" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
                            <text class="dfs-text dfs-t7" x="330" y="209" font-family="JetBrains Mono, monospace" font-weight="600" font-size="13" fill="#cbd5e1" text-anchor="middle">7</text>
                        </svg>
                    </div>
                </div>
            </section>

            <!-- Feature 2: Code + Highlighting -->
            <section class="landing-section">
                <div class="landing-feature landing-feature-reverse">
                    <div class="landing-feature-text reveal-on-scroll">
                        <h2 class="landing-section-title">Follow the code, line by line</h2>
                        <p>The solution highlights the exact line being executed at each step. Finally connect what you're reading to what's actually happening on the data structure.</p>
                    </div>
                    <div class="landing-feature-visual reveal-on-scroll">
                        <div class="feature-code-block">
                            <div class="feature-code-line"><span class="fcode-ln">1</span><span class="fcode-kw">def</span> <span class="fcode-fn">maxDepth</span>(root):</div>
                            <div class="feature-code-line"><span class="fcode-ln">2</span>    <span class="fcode-kw">if not</span> root: <span class="fcode-kw">return</span> <span class="fcode-num">0</span></div>
                            <div class="feature-code-line feature-code-scan"><span class="fcode-ln">3</span>    left = maxDepth(root.left)</div>
                            <div class="feature-code-line"><span class="fcode-ln">4</span>    right = maxDepth(root.right)</div>
                            <div class="feature-code-line"><span class="fcode-ln">5</span>    <span class="fcode-kw">return</span> <span class="fcode-fn">max</span>(left, right) + <span class="fcode-num">1</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Feature 3: Call Stack -->
            <section class="landing-section landing-section-alt">
                <div class="landing-feature">
                    <div class="landing-feature-text reveal-on-scroll">
                        <h2 class="landing-section-title">Watch the call stack push &amp; pop</h2>
                        <p>See exactly how recursion works — the stack grows as calls go deeper, then unwinds as return values propagate back. No more guessing.</p>
                    </div>
                    <div class="landing-feature-visual reveal-on-scroll">
                        <div class="feature-stack">
                            <div class="feature-stack-label">CALL STACK</div>
                            <div class="feature-stack-frames">
                                <!-- Frame 3 (top of stack — pushed last, popped first) -->
                                <div class="feature-stack-frame stk-f3">
                                    <span class="feature-stack-fn">maxDepth(<span class="fcode-num">15</span>)</span>
                                    <span class="feature-stack-meta">depth 3</span>
                                </div>
                                <!-- Frame 2 (middle) -->
                                <div class="feature-stack-frame stk-f2">
                                    <span class="feature-stack-fn">maxDepth(<span class="fcode-num">20</span>)</span>
                                    <span class="feature-stack-meta">depth 2</span>
                                </div>
                                <!-- Frame 1 (bottom of stack — pushed first, popped last) -->
                                <div class="feature-stack-frame stk-f1">
                                    <span class="feature-stack-fn">maxDepth(<span class="fcode-num">3</span>)</span>
                                    <span class="feature-stack-meta">depth 1</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Workflow Section -->
            <section class="landing-section">
                <div class="landing-section-inner">
                    <h2 class="landing-section-title" style="text-align: center;">Get the most out of it</h2>
                    <p class="landing-section-desc" style="text-align: center; max-width: 520px; margin: 0 auto 56px;">The loop that actually makes algorithms stick.</p>
                    <div class="landing-timeline">
                        <div class="timeline-track"></div>
                        <div class="timeline-item reveal-on-scroll">
                            <div class="timeline-dot timeline-dot-blue"></div>
                            <div class="timeline-content">
                                <h3>1. Attempt the problem</h3>
                                <p>Spend 20–30 minutes attempting the problem. Even if you don't solve it, the struggle primes your brain for the solution.</p>
                            </div>
                        </div>
                        <div class="timeline-item reveal-on-scroll">
                            <div class="timeline-dot timeline-dot-orange"></div>
                            <div class="timeline-content">
                                <h3>2. Step through on AlgoFlowz</h3>
                                <p>Search for the problem, pick the algorithm, and step through frame by frame. Watch every operation on real data.</p>
                            </div>
                        </div>
                        <div class="timeline-item reveal-on-scroll">
                            <div class="timeline-dot timeline-dot-blue"></div>
                            <div class="timeline-content">
                                <h3>3. Go back and implement</h3>
                                <p>Now that you've seen it, write the solution from understanding — not memorization. This is where it clicks.</p>
                            </div>
                        </div>
                        <div class="timeline-item reveal-on-scroll">
                            <div class="timeline-dot timeline-dot-orange"></div>
                            <div class="timeline-content">
                                <h3>4. Recognize the pattern</h3>
                                <p>After a few problems, you start seeing the same patterns everywhere. That's when interviews get easy.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bottom CTA -->
            <section class="landing-section landing-section-cta">
                <div class="landing-section-inner" style="text-align: center;">
                    <h2 class="landing-cta-heading">Stop reading solutions<br>you don't understand.</h2>
                    <p class="landing-section-desc" style="margin-bottom: 32px;">150+ problems. Every major pattern. Step-by-step, frame-by-frame.</p>
                    <button class="landing-cta-btn landing-cta-bottom" id="landingCTABottom">
                        Launch AlgoFlowz <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </section>

            <!-- Footer -->
            <footer class="landing-footer">
                <blockquote class="landing-footer-quote">
                    "The best way to learn is to do; the only way to learn programming is by writing programs."
                </blockquote>
                <cite class="landing-footer-cite">— Dennis Ritchie, creator of C</cite>
                <div class="landing-footer-divider"></div>
                <div class="landing-footer-row">
                    <span class="landing-footer-text">Built by Fernando</span>
                    <span class="landing-footer-sep">·</span>
                    <a href="https://www.linkedin.com/in/fernando-erazo00" target="_blank" rel="noopener noreferrer" class="landing-footer-link">
                        <i class="fab fa-linkedin"></i> LinkedIn
                    </a>
                </div>
            </footer>
        </div>
    </div>

    <header class="global-nav">
        <div class="nav-left">
            <div class="logo" id="navLogo" title="Home" style="cursor: pointer;">
                <svg class="logo-svg" viewBox="0 0 222 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Connecting lines -->
                    <line x1="22" y1="14" x2="28" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                    <line x1="46" y1="14" x2="52" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                    <line x1="70" y1="14" x2="76" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                    <line x1="94" y1="14" x2="104" y2="14" stroke="rgba(255,255,255,0.15)" stroke-width="1" stroke-dasharray="2 2"/>
                    <line x1="122" y1="14" x2="128" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                    <line x1="146" y1="14" x2="152" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                    <line x1="170" y1="14" x2="176" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                    <line x1="194" y1="14" x2="200" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                    <!-- ALGO nodes -->
                    <circle cx="12" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                    <text x="12" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">A</text>
                    <circle cx="36" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                    <text x="36" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">L</text>
                    <circle cx="60" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                    <text x="60" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">G</text>
                    <circle cx="84" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                    <text x="84" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">O</text>
                    <!-- FLOWZ nodes -->
                    <circle cx="114" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                    <text x="114" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">F</text>
                    <circle cx="138" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                    <text x="138" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">L</text>
                    <circle cx="162" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                    <text x="162" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">O</text>
                    <circle cx="186" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                    <text x="186" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">W</text>
                    <circle cx="210" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                    <text x="210" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">Z</text>
                </svg>
            </div>
            <!-- Search bar -->
            <div class="search-bar-wrapper">
                <input 
                    type="text" 
                    id="searchInput" 
                    class="search-bar" 
                    placeholder="Search by name or LeetCode problem..." 
                    autocomplete="off"
                >
                <i class="fas fa-search"></i>
                <div id="searchDropdown" class="search-dropdown" style="display:none;"></div>
            </div>
            <!-- Problem navigation group -->
            <div class="problem-nav-group">
                <button id="prevProblemBtn" class="problem-nav-btn" title="Previous Problem">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button id="problemListBtn" class="modern-select" style="background: var(--bg-card); border: 1px solid var(--border); cursor: pointer; padding: 0 14px; height: 34px; gap: 8px; display: flex; align-items: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                    <i class="fas fa-list"></i> All Problems
                </button>
                <button id="nextProblemBtn" class="problem-nav-btn" title="Next Problem">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            <!-- YouTube button -->
            <button id="youtubeBtn" class="youtube-link" type="button" title="Recommended Videos">
                <i class="fab fa-youtube"></i>
            </button>
            <!-- Home button -->
            <button class="nav-home-btn" id="navHomeBtn" title="Back to landing page">
                <i class="fas fa-home"></i>
            </button>
            <!-- Notes button -->
            <button class="nav-notes-btn" id="navNotesBtn" title="My Notes">
                <i class="fas fa-book"></i>
            </button>
            <!-- Theme toggle -->
            <button class="theme-toggle" id="themeToggle" title="Toggle light/dark mode">
                <i class="fas fa-sun"></i>
            </button>
        </div>
        <div class="nav-right">
            <div id="inspiredBy" class="inspired-by-badge" style="display:none;">
                <a href="#" target="_blank" rel="noopener noreferrer" id="inspiredByLink">Inspired by LeetCode Problem #111</a>
            </div>
            <div class="algorithm-selector">
                <label for="algorithmSelect" class="algorithm-label">Algorithm:</label>
                <select id="algorithmSelect" class="modern-select">
                </select>
            </div>
            <!-- Auth: user avatar or login button (desktop) -->
            <div class="nav-auth-wrapper">
                <button id="navAuthBtn" class="nav-auth-btn" type="button" title="Account">
                    <i class="fas fa-user"></i>
                </button>
                <div id="navAuthDropdown" class="nav-auth-dropdown">
                    <div class="auth-dd-user" id="authDdUser">
                        <div class="auth-dd-avatar" id="authDdAvatar">U</div>
                        <div class="auth-dd-info">
                            <span class="auth-dd-name" id="authDdName">User</span>
                            <span class="auth-dd-email" id="authDdEmail">user@example.com</span>
                        </div>
                    </div>
                    <div class="auth-dd-divider"></div>
                    <button class="auth-dd-item" id="authDdNotesBtn" type="button">
                        <i class="fas fa-book"></i> My Notes
                    </button>
                    <button class="auth-dd-item" id="authDdFeedbackBtn" type="button">
                        <i class="fas fa-comment-dots"></i> Send Feedback
                    </button>
                    <button class="auth-dd-item auth-dd-logout" id="authDdLogoutBtn" type="button">
                        <i class="fas fa-sign-out-alt"></i> Log Out
                    </button>
                </div>
            </div>
            <!-- Hamburger menu button (mobile only) -->
            <button id="hamburgerBtn" class="hamburger-btn" type="button" title="Menu" aria-label="Menu">
                <span class="hamburger-icon">
                    <span></span><span></span><span></span>
                </span>
            </button>
        </div>
    </header>

    <!-- Hamburger slide-out drawer (mobile) -->
    <div id="hamburgerOverlay" class="hamburger-overlay"></div>
    <div id="hamburgerDrawer" class="hamburger-drawer">
        <div class="drawer-header">
            <span class="drawer-title">Menu</span>
            <button id="drawerClose" class="drawer-close" type="button" aria-label="Close menu">✕</button>
        </div>
        <nav class="drawer-nav">
            <!-- Utility items -->
            <button id="drawerHomeBtn" class="drawer-item" type="button">
                <i class="fas fa-home"></i> Home
            </button>
            <button id="drawerNotesBtn" class="drawer-item" type="button">
                <i class="fas fa-book"></i> All Notes
            </button>
            <button id="drawerYoutubeBtn" class="drawer-item" type="button">
                <i class="fab fa-youtube"></i> YouTube Videos
            </button>
            <button id="drawerFeedbackBtn" class="drawer-item" type="button">
                <i class="fas fa-comment-dots"></i> Send Feedback
            </button>
            <div class="drawer-divider"></div>
            <!-- Auth section in drawer -->
            <div id="drawerAuthSection" class="drawer-auth-section">
                <div id="drawerAuthLoggedOut" class="drawer-auth-logged-out">
                    <button id="drawerLoginBtn" class="drawer-item drawer-auth-item" type="button">
                        <i class="fas fa-sign-in-alt"></i> Log In
                    </button>
                    <button id="drawerSignupBtn" class="drawer-item drawer-auth-item" type="button">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </button>
                </div>
                <div id="drawerAuthLoggedIn" class="drawer-auth-logged-in" style="display:none;">
                    <div class="drawer-user-info">
                        <div class="drawer-user-avatar" id="drawerUserAvatar">U</div>
                        <div class="drawer-user-details">
                            <span class="drawer-user-name" id="drawerUserName">User</span>
                            <span class="drawer-user-email" id="drawerUserEmail">user@example.com</span>
                        </div>
                    </div>
                    <button id="drawerLogoutBtn" class="drawer-item drawer-logout" type="button">
                        <i class="fas fa-sign-out-alt"></i> Log Out
                    </button>
                </div>
            </div>
        </nav>
    </div>

    <!-- Auth Modal (Airbnb-style) -->
    <div id="authModal" class="auth-modal">
        <div class="auth-modal-content">
            <div class="auth-modal-header">
                <button id="authModalClose" class="auth-modal-close" type="button" aria-label="Close">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                </button>
                <span class="auth-modal-title">Log in or sign up</span>
                <span class="auth-modal-header-spacer"></span>
            </div>

            <div class="auth-modal-body">
                <h2 class="auth-welcome">Welcome to AlgoFlowz</h2>

                <!-- Login Form -->
                <form id="loginForm" class="auth-form">
                    <div class="auth-fieldset">
                        <div class="auth-field auth-field-top" id="loginUsernameField">
                            <input type="text" id="loginUsername" name="username" placeholder=" " required autocomplete="username">
                            <label for="loginUsername">Username or email</label>
                            <span class="auth-field-error" id="loginUsernameError"></span>
                        </div>
                        <div class="auth-field auth-field-bottom" id="loginPasswordField">
                            <input type="password" id="loginPassword" name="password" placeholder=" " required autocomplete="current-password">
                            <label for="loginPassword">Password</label>
                            <span class="auth-field-error" id="loginPasswordError"></span>
                        </div>
                    </div>
                    <button type="submit" class="auth-submit-btn" id="loginSubmitBtn">Continue</button>
                    <div class="auth-divider"><span>or</span></div>
                    <button type="button" id="switchToSignup" class="auth-alt-btn">
                        <i class="fas fa-user-plus"></i> Sign up with email
                    </button>
                </form>

                <!-- Signup Form -->
                <form id="signupForm" class="auth-form" style="display:none;">
                    <div class="auth-fieldset">
                        <div class="auth-field auth-field-top" id="signupUsernameField">
                            <input type="text" id="signupUsername" name="username" placeholder=" " required autocomplete="username" minlength="3" maxlength="30">
                            <label for="signupUsername">Username</label>
                            <span class="auth-field-error" id="signupUsernameError"></span>
                        </div>
                        <div class="auth-field auth-field-mid" id="signupEmailField">
                            <input type="email" id="signupEmail" name="email" placeholder=" " required autocomplete="email">
                            <label for="signupEmail">Email</label>
                            <span class="auth-field-error" id="signupEmailError"></span>
                        </div>
                        <div class="auth-field auth-field-bottom" id="signupPasswordField">
                            <input type="password" id="signupPassword" name="password" placeholder=" " required autocomplete="new-password" minlength="8">
                            <label for="signupPassword">Password</label>
                            <span class="auth-field-error" id="signupPasswordError"></span>
                        </div>
                    </div>
                    <p class="auth-password-hint">Password must be at least 8 characters</p>
                    <button type="submit" class="auth-submit-btn" id="signupSubmitBtn">Create account</button>
                    <div class="auth-divider"><span>or</span></div>
                    <button type="button" id="switchToLogin" class="auth-alt-btn">
                        <i class="fas fa-sign-in-alt"></i> Log in with existing account
                    </button>
                </form>

                <div class="auth-explore">
                    <button type="button" id="authExploreBtn" class="auth-explore-btn">Just explore — no account needed</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Problem Selection Page — Full Screen -->
    <div id="problemModal" class="problem-page">
        <header class="problem-page-nav">
            <div class="problem-page-nav-left">
                <div class="problem-page-logo" id="problemModalLogo" style="cursor: pointer;" title="Back to Home">
                    <svg class="problem-page-logo-svg" viewBox="0 0 222 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <line x1="22" y1="14" x2="28" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="46" y1="14" x2="52" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="70" y1="14" x2="76" y2="14" stroke="#3b82f6" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="94" y1="14" x2="104" y2="14" stroke="rgba(255,255,255,0.15)" stroke-width="1" stroke-dasharray="2 2"/>
                        <line x1="122" y1="14" x2="128" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="146" y1="14" x2="152" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="170" y1="14" x2="176" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                        <line x1="194" y1="14" x2="200" y2="14" stroke="#f97316" stroke-width="1.5" stroke-linecap="round"/>
                        <circle cx="12" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                        <text x="12" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">A</text>
                        <circle cx="36" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                        <text x="36" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">L</text>
                        <circle cx="60" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                        <text x="60" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">G</text>
                        <circle cx="84" cy="14" r="11" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.8"/>
                        <text x="84" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#e2e8f0" text-anchor="middle">O</text>
                        <circle cx="114" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                        <text x="114" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">F</text>
                        <circle cx="138" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                        <text x="138" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">L</text>
                        <circle cx="162" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                        <text x="162" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">O</text>
                        <circle cx="186" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                        <text x="186" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">W</text>
                        <circle cx="210" cy="14" r="11" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="1.8"/>
                        <text x="210" y="18.5" font-family="Inter, sans-serif" font-weight="800" font-size="12" fill="#fb923c" text-anchor="middle">Z</text>
                    </svg>
                </div>
            </div>
            <div class="problem-page-nav-right">
                <button class="problem-page-home-btn" id="problemPageHomeBtn" title="Back to landing page">
                    <i class="fas fa-home"></i>
                </button>
                <div class="pp-auth-wrapper">
                    <button class="problem-page-home-btn pp-auth-btn" id="ppAuthBtn" type="button" title="Account">
                        <i class="fas fa-user"></i>
                    </button>
                    <div id="ppAuthDropdown" class="nav-auth-dropdown pp-auth-dropdown">
                        <div class="auth-dd-user" id="ppDdUser">
                            <div class="auth-dd-avatar" id="ppDdAvatar">U</div>
                            <div class="auth-dd-info">
                                <span class="auth-dd-name" id="ppDdName">User</span>
                                <span class="auth-dd-email" id="ppDdEmail">user@example.com</span>
                            </div>
                        </div>
                        <div class="auth-dd-divider"></div>
                        <button class="auth-dd-item" id="ppDdNotesBtn" type="button">
                            <i class="fas fa-book"></i> My Notes
                        </button>
                        <button class="auth-dd-item" id="ppDdFeedbackBtn" type="button">
                            <i class="fas fa-comment-dots"></i> Send Feedback
                        </button>
                        <button class="auth-dd-item auth-dd-logout" id="ppDdLogoutBtn" type="button">
                            <i class="fas fa-sign-out-alt"></i> Log Out
                        </button>
                    </div>
                </div>
                <button class="theme-toggle" id="themeToggle2" title="Toggle light/dark mode">
                    <i class="fas fa-sun"></i>
                </button>
            </div>
        </header>

        <div class="problem-page-body">
            <div class="problem-page-hero">
                <h1 class="problem-page-heading">Choose a Problem</h1>
                <p class="problem-page-subtitle">Select an algorithm to visualize step-by-step</p>

                <div class="problem-search-bar">
                    <div class="problem-search-wrapper">
                        <svg class="search-icon" width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="6.5" cy="6.5" r="5.5" stroke="currentColor" stroke-width="1.5"/><path d="M11 11l4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
                        <input type="text" id="problemSearchInput" placeholder="Search by name, topic, or LeetCode problem..." autocomplete="off">
                    </div>
                </div>

                <div class="problem-page-filters">
                    <button class="filter-scroll-btn filter-scroll-left hidden" id="filterScrollLeft" aria-label="Scroll filters left">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="filter-scroll-area" id="filterScrollArea">
                        <div class="filter-options">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="tree">Tree</button>
                            <button class="filter-btn" data-filter="array">Array</button>
                            <button class="filter-btn" data-filter="recursion">Recursion</button>
                            <button class="filter-btn" data-filter="dfs">DFS</button>
                            <button class="filter-btn" data-filter="bfs">BFS</button>
                            <button class="filter-btn" data-filter="two-pointers">Two Pointers</button>
                            <button class="filter-btn" data-filter="sliding-window">Sliding Window</button>
                            <button class="filter-btn" data-filter="dynamic-programming">DP</button>
                            <button class="filter-btn" data-filter="greedy">Greedy</button>
                            <button class="filter-btn" data-filter="math">Math</button>
                            <button class="filter-btn" data-filter="sorting">Sorting</button>
                            <button class="filter-btn" data-filter="hash-table">Hash Table</button>
                            <button class="filter-btn" data-filter="design">Design</button>
                            <button class="filter-btn" data-filter="prefix-sum">Prefix Sum</button>
                            <button class="filter-btn" data-filter="string">String</button>
                            <button class="filter-btn" data-filter="stack">Stack</button>
                            <button class="filter-btn" data-filter="queue">Queue</button>
                            <button class="filter-btn" data-filter="graph">Graph</button>
                            <button class="filter-btn" data-filter="matrix">Matrix</button>
                            <button class="filter-btn filter-btn-special" data-filter="interview150">Interview 150</button>
                        </div>
                    </div>
                    <button class="filter-scroll-btn filter-scroll-right" id="filterScrollRight" aria-label="Scroll filters right">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <div class="problem-page-grid-wrapper">
                <div id="problemList" class="problem-list">
                </div>
            </div>
        </div>
    </div>

    <main class="app-layout">
        <section class="module code-module">
            <div class="module-header">
                <div class="module-label">
                    <span>SOURCE CODE</span>
                </div>
                <div class="language-badge">Python</div>
            </div>
            <div id="codeEditor" class="code-viewport"></div>
            <div class="code-info">
                <div class="complexity-info">
                    <div class="complexity-item">
                        <span class="complexity-label">Time Complexity</span>
                        <span id="timeComplexity" class="complexity-value">O(n)</span>
                    </div>
                    <div class="complexity-item">
                        <span class="complexity-label">Space Complexity</span>
                        <span id="spaceComplexity" class="complexity-value">O(h)</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="module viz-module">
            <div class="module-header">
            </div>
            <button id="codeToggleBtn" class="code-toggle-btn" title="Toggle source code">
                <span class="toggle-label">Code</span><i class="fas fa-chevron-left"></i>
            </button>
            <button id="stackToggleBtn" class="stack-toggle-btn" title="Toggle call stack">
                <span class="toggle-label">Stack</span><i class="fas fa-chevron-left"></i>
            </button>
            <!-- Mobile algorithm selector -->
            <div class="mobile-algo-selector">
                <select id="mobileAlgorithmSelect" class="mobile-algo-select">
                </select>
            </div>
            <!-- Mobile testcase selector -->
            <div class="mobile-testcase-selector" id="mobileTestcaseSelector" style="display:none;">
                <select id="mobileTestcaseSelect" class="mobile-algo-select">
                </select>
            </div>

            <!-- ⋯ Mobile More Button + Popover (replaces floating controls on mobile) -->
            <button id="mobileMoreBtn" class="mobile-more-btn" title="More options" aria-label="More options">⋯</button>
            <div id="mobileMorePopover" class="mobile-more-popover">
                <div class="more-pop-select-row">
                    <span class="more-pop-select-label">Algo</span>
                    <select id="popAlgoSelect" class="more-pop-select"></select>
                </div>
                <div class="more-pop-select-row" id="popTestcaseRow" style="display:none;">
                    <span class="more-pop-select-label">Testcase</span>
                    <select id="popTestcaseSelect" class="more-pop-select"></select>
                </div>
                <div class="more-pop-divider"></div>
                <button class="more-pop-item" id="popCodeBtn">
                    <i class="fas fa-code"></i>
                    <span class="more-pop-label">Toggle Code</span>
                </button>
                <button class="more-pop-item" id="popStackBtn">
                    <i class="fas fa-layer-group"></i>
                    <span class="more-pop-label">Toggle Stack</span>
                </button>
                <div class="more-pop-divider"></div>
                <button class="more-pop-item" id="popNotesBtn">
                    <i class="fas fa-book"></i>
                    <span class="more-pop-label">My Notes</span>
                </button>
            </div>
            <div id="canvas" class="render-engine">
                <div id="treeCanvas" class="tree-canvas">
                    <!-- SVG layer for edges / arrows -->
                    <svg id="svgLines" class="svg-lines" xmlns="http://www.w3.org/2000/svg"></svg>
                    <!-- Nodes will be injected here -->
                    <div id="nodesContainer" class="nodes-container"></div>
                </div>
                <!-- Queue visualization (hidden when empty) -->
                <div id="queueContainer" class="queue-container" style="display:none"></div>
            </div>

            <div class="action-bar">
                <div class="algo-pill" id="algoSelector">
                    <select id="actionBarAlgoSelect" class="testcase-select algo-select">
                    </select>
                </div>
                <div class="testcase-pill" id="testcaseSelector" style="display:none;">
                    <select id="testcaseSelect" class="testcase-select">
                    </select>
                </div>
                <button onclick="changeStep(-1)" id="prevBtn" class="control-btn">
                    <i class="fas fa-chevron-left"></i><span>Prev</span>
                </button>
                <button onclick="toggleAutoPlay()" id="desktopPlayBtn" class="control-btn">
                    <i class="fas fa-play"></i><span>Play</span>
                </button>
                <button onclick="cycleSpeed()" id="desktopSpeedBtn" class="control-btn speed-btn">
                    <span class="speed-label">1x</span>
                </button>
                <button onclick="resetVisualization()" class="control-btn secondary">
                    <i class="fas fa-redo"></i><span>Reset</span>
                </button>
                <button onclick="changeStep(1)" id="nextBtn" class="control-btn primary">
                    <i class="fas fa-chevron-right"></i><span>Next</span>
                </button>
            </div>

            <div class="console-panel">
                <div id="console" class="console-text"></div>
            </div>
        </section>

        <section class="module stack-module">
            <div class="module-header">
            </div>
            <div class="stack-controls">
                <div id="stackLabel" class="stack-header">CALL STACK</div>
            </div>
            <div class="stack-stats-bar">
                <div class="stack-stat">
                    <span id="activeCallsLabel" class="stack-stat-label">Active</span>
                    <span id="activeCalls" class="stack-stat-value active-val">0</span>
                </div>
                <div class="stack-stat">
                    <span id="depthLabel" class="stack-stat-label">Depth</span>
                    <span id="stackDepth" class="stack-stat-value depth-val">0</span>
                </div>
                <div class="stack-stat">
                    <span id="maxLabel" class="stack-stat-label">Max</span>
                    <span id="maxDepth" class="stack-stat-value max-val">0</span>
                </div>
            </div>
            <div id="stackList" class="stack-viewport">
            </div>
            <div id="stackLegend" class="stack-legend">
            </div>
        </section>
    </main>

    <!-- ═══════════ Notebook / Notes Panel (right-side drawer) ═══════════ -->
    <div id="notebookPanel" class="notebook-panel">
        <div class="notebook-chrome">
            <!-- Resize handle (desktop only) -->
            <div class="notebook-resize-handle" id="notebookResizeHandle"></div>

            <!-- ══ VIEW 1: Notes List ══ -->
            <div id="notebookListView" class="notebook-view notebook-list-view">
                <div class="notebook-header">
                    <div class="notebook-header-left">
                        <button id="notebookClose" class="notebook-close-btn" type="button" aria-label="Close notes">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                        </button>
                        <span class="notebook-title">
                            <i class="fas fa-book"></i>
                            <span>My Notes</span>
                        </span>
                    </div>
                </div>
                <!-- Login prompt (shown to logged-out users) -->
                <div id="notebookLoginPrompt" class="notebook-login-prompt" style="display:none;">
                    <i class="fas fa-info-circle"></i>
                    <span>Notes are saved locally. <button type="button" id="nbLoginBtn" class="nb-login-link">Log in</button> to sync across devices.</span>
                </div>
                <div id="notebookNotesList" class="notebook-notes-list">
                    <!-- Filled dynamically -->
                </div>
            </div>

            <!-- ══ VIEW 2: Note Editor ══ -->
            <div id="notebookEditorView" class="notebook-view notebook-editor-view" style="display:none;">
                <div class="notebook-header">
                    <div class="notebook-header-left">
                        <button id="notebookBack" class="notebook-close-btn" type="button" aria-label="Back to list" title="Back to notes list">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
                        </button>
                        <span class="notebook-title">
                            <i class="fas fa-file-alt"></i>
                            <span id="notebookProblemName">Notes</span>
                        </span>
                    </div>
                    <div class="notebook-header-right">
                        <span id="notebookSaveStatus" class="notebook-save-status">
                            <i class="fas fa-check-circle"></i> Saved
                        </span>
                    </div>
                </div>

                <!-- Toolbar -->
                <div class="notebook-toolbar">
                    <div class="notebook-toolbar-group">
                        <button class="nb-tool-btn" data-cmd="bold" title="Bold (⌘B)"><b>B</b></button>
                        <button class="nb-tool-btn" data-cmd="italic" title="Italic (⌘I)"><i>I</i></button>
                        <button class="nb-tool-btn" data-cmd="underline" title="Underline (⌘U)"><u>U</u></button>
                        <button class="nb-tool-btn" data-cmd="strikeThrough" title="Strikethrough"><s>S</s></button>
                    </div>
                    <div class="nb-tool-divider"></div>
                    <div class="notebook-toolbar-group">
                        <button class="nb-tool-btn" data-cmd="formatBlock" data-value="H2" title="Heading"><span style="font-weight:800;font-size:13px;">H</span></button>
                        <button class="nb-tool-btn" data-cmd="insertUnorderedList" title="Bullet list"><i class="fas fa-list-ul"></i></button>
                        <button class="nb-tool-btn" data-cmd="insertOrderedList" title="Numbered list"><i class="fas fa-list-ol"></i></button>
                    </div>
                    <div class="nb-tool-divider"></div>
                    <div class="notebook-toolbar-group">
                        <button class="nb-tool-btn nb-draw-toggle" id="nbDrawToggle" title="Draw mode">
                            <i class="fas fa-pen"></i>
                        </button>
                        <input type="color" id="nbPenColor" class="nb-color-picker" value="#3b82f6" title="Pen color">
                        <button class="nb-tool-btn" id="nbEraserBtn" title="Eraser"><i class="fas fa-eraser"></i></button>
                        <select id="nbPenSize" class="nb-pen-size" title="Pen size">
                            <option value="2">Thin</option>
                            <option value="4" selected>Medium</option>
                            <option value="8">Thick</option>
                        </select>
                        <button class="nb-tool-btn nb-danger" id="nbClearCanvas" title="Clear drawing"><i class="fas fa-trash-alt"></i></button>
                    </div>
                </div>

                <!-- Editor area -->
                <div class="notebook-body">
                    <div id="notebookEditor" class="notebook-editor" contenteditable="true" spellcheck="true" data-placeholder="Start typing your notes..."></div>
                    <canvas id="notebookCanvas" class="notebook-canvas"></canvas>
                </div>

                <!-- Page indicator -->
                <div class="notebook-footer">
                    <span id="notebookPageInfo" class="notebook-page-info">Problem 1 of 16</span>
                </div>
            </div>
        </div>
    </div>

    <div id="youtubeModal" class="youtube-modal">
        <div class="youtube-modal-content">
            <div class="youtube-modal-header">
                <h3><i class="fab fa-youtube"></i> Recommended Videos</h3>
                <button id="youtubeModalClose" class="youtube-modal-close" type="button">✕</button>
            </div>
            <div id="youtubeContent" class="youtube-modal-body"></div>
        </div>
    </div>

    <div id="annotation-tooltip" class="annotation-tooltip" style="display:none;"></div>

    <!-- Insight modal for Problem 8 -->
    <div id="insightModal" class="insight-modal">
        <div class="insight-modal-content">
            <div class="insight-modal-header">
                <h3>The 3-Reverse Trick</h3>
                <button id="insightModalClose" class="insight-modal-close" type="button">✕</button>
            </div>
            <div class="insight-modal-body">
                <p class="insight-core-idea">When you rotate an array right by <strong>k</strong>, you're taking the last <strong>k</strong> elements and moving them to the front, while shifting everything else back.</p>
                <p class="insight-core-idea">Instead of moving them one by one, we use reversal to flip the chunks into place.</p>

                <div class="insight-example-header">
                    <span class="insight-example-label">Walkthrough</span>
                    <span class="insight-example-array">[1, 2, 3, 4, 5] &nbsp;→&nbsp; rotate by k = 2 &nbsp;→&nbsp; [4, 5, 1, 2, 3]</span>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">1</div>
                    <div class="insight-step-body">
                        <strong>Reverse the entire array</strong>
                        <span class="insight-transform">[1, 2, 3, 4, 5] → [<span style="color:var(--accent-orange)">5, 4</span>, <span style="color:var(--accent-blue)">3, 2, 1</span>]</span>
                        <p>This moves the elements that belong at the front (<span style="color:var(--accent-orange)">4, 5</span>) to the front, and the elements that belong at the back (<span style="color:var(--accent-blue)">1, 2, 3</span>) to the back. But both chunks are currently backwards.</p>
                    </div>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">2</div>
                    <div class="insight-step-body">
                        <strong>Reverse the first k elements [0..1]</strong>
                        <span class="insight-transform">[<span style="color:var(--accent-orange)">5, 4</span>, <span style="color:var(--accent-blue)">3, 2, 1</span>] → [<span style="color:var(--accent-orange)">4, 5</span>, <span style="color:var(--accent-blue)">3, 2, 1</span>]</span>
                        <p>The front chunk (<span style="color:var(--accent-orange)">5, 4</span>) gets flipped back to its correct order (<span style="color:var(--accent-orange)">4, 5</span>).</p>
                    </div>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">3</div>
                    <div class="insight-step-body">
                        <strong>Reverse the remaining elements [2..4]</strong>
                        <span class="insight-transform">[<span style="color:var(--accent-orange)">4, 5</span>, <span style="color:var(--accent-blue)">3, 2, 1</span>] → [<span style="color:var(--accent-orange)">4, 5</span>, <span style="color:var(--accent-blue)">1, 2, 3</span>]</span>
                        <p>The back chunk (<span style="color:var(--accent-blue)">3, 2, 1</span>) gets flipped back to its correct order (<span style="color:var(--accent-blue)">1, 2, 3</span>). Done.</p>
                    </div>
                </div>

                <div class="insight-key">
                    <strong>Why it works:</strong> Reversing the whole array puts each chunk in the right half of the array, just in the wrong internal order. The two sub-reverses fix each chunk's internal order without moving them out of position.
                </div>

                <div class="insight-complexity">
                    <span><strong>Time:</strong> O(n)</span>
                    <span><strong>Space:</strong> O(1)</span>
                    <span>Each element is visited at most twice.</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Insight modal for Problem 12 — Jump Game II -->
    <div id="insightModal12" class="insight-modal">
        <div class="insight-modal-content">
            <div class="insight-modal-header">
                <h3>Why Greedy BFS Works</h3>
                <button class="insight-modal-close" type="button" onclick="closeInsightModal('insightModal12')">✕</button>
            </div>
            <div class="insight-modal-body">
                <p class="insight-core-idea">This isn't a sliding window. It's a <strong>BFS layer expansion</strong> disguised as a greedy algorithm.</p>
                <p class="insight-core-idea">Imagine you're standing on a number line. Each position tells you how far you can jump. You want to reach the end in the <strong>fewest jumps</strong>.</p>

                <div class="insight-example-header">
                    <span class="insight-example-label">The Key Insight</span>
                    <span class="insight-example-array">Think of it like ripples in a pond — each "jump" expands your reachable zone</span>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">1</div>
                    <div class="insight-step-body">
                        <strong>Two loops, two jobs</strong>
                        <p>The <span style="color:var(--accent-blue)">outer loop</span> (<code style="color:var(--accent-blue)">while r &lt; len(nums) - 1</code>) handles <strong>jumps</strong> — each iteration = one jump.</p>
                        <p>The <span style="color:var(--accent-green)">inner loop</span> (<code style="color:var(--accent-green)">for i in range(l, r+1)</code>) scans every cell in the current reachable zone to find the <strong>farthest</strong> any of them can reach.</p>
                    </div>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">2</div>
                    <div class="insight-step-body">
                        <strong>What [L, R] actually means</strong>
                        <p><span style="color:#fb923c"><strong>L</strong></span> and <span style="color:#f472b6"><strong>R</strong></span> define the <strong>current reachable zone</strong> — all indices you can land on using exactly the current number of jumps.</p>
                        <p>This is identical to how BFS processes one "level" at a time. L is the start of the level, R is the end.</p>
                    </div>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">3</div>
                    <div class="insight-step-body">
                        <strong>Why we track <code style="color:var(--accent-purple)">farthest</code></strong>
                        <p>Each cell in the zone offers a "launch pad." <code style="color:var(--accent-purple)">farthest = max(farthest, i + nums[i])</code> remembers the best one.</p>
                        <p>We don't need to know <em>which</em> cell was best — only <em>how far</em> the best one reaches. That becomes the right edge of the next zone.</p>
                    </div>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">4</div>
                    <div class="insight-step-body">
                        <strong>The jump: expanding to the next zone</strong>
                        <p>After scanning every cell in [L, R]:</p>
                        <span class="insight-transform">L = R + 1 &nbsp;&nbsp;(start of new zone)<br>R = farthest &nbsp;(end of new zone)<br>jumps += 1</span>
                        <p>The old zone fades out. The new zone lights up. Each jump = one BFS level deeper.</p>
                    </div>
                </div>

                <div class="insight-step">
                    <div class="insight-step-num">5</div>
                    <div class="insight-step-body">
                        <strong>Why this is optimal</strong>
                        <p>BFS guarantees the shortest path. By always expanding to the farthest reachable index, we cover the maximum ground per jump — so we'll never use more jumps than necessary.</p>
                        <p>Greedy works here because reaching farther is <em>always</em> better. There's no case where a shorter jump now leads to fewer total jumps later.</p>
                    </div>
                </div>

                <div class="insight-key">
                    <strong>Mental model:</strong> Each zone = "everything reachable in exactly N jumps." The inner loop finds the frontier of the <em>next</em> zone. When you step forward, you're committing to one more jump and unlocking a bigger region. BFS guarantees this is optimal.
                </div>

                <div class="insight-complexity">
                    <span><strong>Time:</strong> O(n) — each index visited once</span>
                    <span><strong>Space:</strong> O(1) — just L, R, farthest, jumps</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile bottom floating pill -->
    <nav class="mobile-bottom-nav">
        <button onclick="changeStep(-1)" id="mobilePrevBtn" class="control-btn">
            <i class="fas fa-chevron-left"></i><span>Prev</span>
        </button>
        <button onclick="toggleAutoPlay()" id="mobilePlayBtn" class="control-btn">
            <i class="fas fa-play"></i><span>Play</span>
        </button>
        <button onclick="cycleSpeed()" id="mobileSpeedBtn" class="control-btn speed-btn">
            <span class="speed-label">1x</span>
        </button>
        <button onclick="resetVisualization()" class="control-btn secondary">
            <i class="fas fa-redo"></i><span>Reset</span>
        </button>
        <button onclick="changeStep(1)" id="mobileNextBtn" class="control-btn primary">
            <i class="fas fa-chevron-right"></i><span>Next</span>
        </button>
    </nav>

    <script>
        // Landing page logic
        (function() {
            const overlay = document.getElementById('landingOverlay');
            const cta = document.getElementById('landingCTA');
            const ctaBottom = document.getElementById('landingCTABottom');
            const navCta = document.getElementById('landingNavCTA');
            const navLogo = document.getElementById('navLogo');
            const problemModalLogo = document.getElementById('problemModalLogo');
            
            // Check if user has dismissed landing page this session
            if (sessionStorage.getItem('algoflowz_landed')) {
                overlay.classList.add('landing-hidden');
            }
            
            function dismissLanding() {
                overlay.classList.add('landing-hidden');
                sessionStorage.setItem('algoflowz_landed', '1');
                // Show the problem list so user can pick a problem
                if (typeof openProblemModal === 'function') {
                    openProblemModal();
                }
            }

            function showLanding() {
                // Show landing instantly (no transition) to prevent page leak
                overlay.style.transition = 'none';
                overlay.classList.remove('landing-hidden');
                overlay.offsetHeight; // force reflow
                overlay.style.transition = '';
                // Then close problem page safely underneath
                if (typeof closeProblemModal === 'function') {
                    closeProblemModal();
                }
                overlay.querySelector('.landing-scroll-container').scrollTop = 0;
            }
            // Expose for hamburger drawer and other external callers
            window.showLanding = showLanding;
            
            cta.addEventListener('click', dismissLanding);
            ctaBottom.addEventListener('click', dismissLanding);
            navCta.addEventListener('click', dismissLanding);
            navLogo.addEventListener('click', showLanding);
            problemModalLogo.addEventListener('click', showLanding);

            // Home buttons
            var navHomeBtn = document.getElementById('navHomeBtn');
            navHomeBtn.addEventListener('click', showLanding);

            var problemPageHomeBtn = document.getElementById('problemPageHomeBtn');
            if (problemPageHomeBtn) problemPageHomeBtn.addEventListener('click', showLanding);

            // Landing search bar
            var landingSearchInput = document.getElementById('landingSearchInput');
            var landingSearchDropdown = document.getElementById('landingSearchDropdown');

            landingSearchInput.addEventListener('input', function() {
                var query = landingSearchInput.value.trim().toLowerCase();
                if (query.length === 0) {
                    landingSearchDropdown.style.display = 'none';
                    return;
                }
                // Wait for problemDB to be available (loaded in script.js)
                if (typeof problemDB === 'undefined') {
                    landingSearchDropdown.innerHTML = '<div class="landing-search-noresult">Loading...</div>';
                    landingSearchDropdown.style.display = 'block';
                    return;
                }
                var results = Object.entries(problemDB).filter(function(entry) {
                    var id = entry[0], prob = entry[1];
                    return prob.name.toLowerCase().includes(query) || id.includes(query) || (prob.alias && prob.alias.toLowerCase().includes(query)) || (prob.leetcodeNum && prob.leetcodeNum.includes(query));
                });
                if (results.length === 0) {
                    landingSearchDropdown.innerHTML = '<div class="landing-search-noresult"><i class="fas fa-clock"></i>Not available yet — check back soon!</div>';
                    landingSearchDropdown.style.display = 'block';
                    return;
                }
                landingSearchDropdown.innerHTML = results.slice(0, 8).map(function(entry) {
                    var id = entry[0], prob = entry[1];
                    return '<div class="landing-search-result" data-prob-id="' + id + '">' +
                        '<span class="landing-search-result-name">' + prob.name + '</span>' +
                        (prob.alias ? '<span class="landing-search-result-alias">LeetCode: ' + prob.alias + '</span>' : '') +
                        '<span class="landing-search-result-id">#' + id + '</span></div>';
                }).join('');
                landingSearchDropdown.style.display = 'block';
            });

            landingSearchDropdown.addEventListener('click', function(e) {
                var result = e.target.closest('.landing-search-result');
                if (result && result.dataset.probId) {
                    overlay.classList.add('landing-hidden');
                    sessionStorage.setItem('algoflowz_landed', '1');
                    landingSearchInput.value = '';
                    landingSearchDropdown.style.display = 'none';
                    // selectProblem is defined in script.js which loads after
                    if (typeof selectProblem === 'function') {
                        selectProblem(result.dataset.probId);
                    }
                }
            });

            // Close dropdown on outside click
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.landing-search-wrapper')) {
                    landingSearchDropdown.style.display = 'none';
                }
            });

            // Enter key to select first result or show not-available
            landingSearchInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    var firstResult = landingSearchDropdown.querySelector('.landing-search-result');
                    if (firstResult) {
                        firstResult.click();
                    }
                }
            });
            
            // Also allow Escape key to dismiss
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && !overlay.classList.contains('landing-hidden')) {
                    dismissLanding();
                }
            });

            // Scroll-reveal: animate elements when they enter the viewport
            const revealObserver = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                    }
                });
            }, { threshold: 0.15, root: overlay.querySelector('.landing-scroll-container') });

            document.querySelectorAll('.reveal-on-scroll').forEach(function(el) {
                revealObserver.observe(el);
            });
        })();
    </script>
    <script src="script.js"></script>

    <!-- Bug Report / Feedback Modal -->
    <div id="reportModal" class="report-modal">
        <div class="report-modal-content">
            <div class="report-modal-header">
                <h3>Report a Bug or Send Feedback</h3>
                <button id="reportModalClose" class="report-modal-close" type="button">✕</button>
            </div>
            <form id="reportForm" class="report-form">
                <div class="report-field">
                    <label for="reportType">Type</label>
                    <select id="reportType" name="type" required>
                        <option value="bug">Bug Report</option>
                        <option value="feedback">Feedback</option>
                        <option value="feature">Feature Request</option>
                        <option value="problem-request">Problem Request</option>
                    </select>
                </div>
                <div class="report-field">
                    <label for="reportEmail">Email <span class="report-optional">(optional — for follow-up)</span></label>
                    <input type="email" id="reportEmail" name="email" placeholder="you@example.com" autocomplete="email">
                </div>
                <div class="report-field" id="reportProblemField">
                    <label for="reportProblem">Problem / LeetCode #</label>
                    <input type="text" id="reportProblem" name="problemId" placeholder="e.g. 9">
                </div>
                <div class="report-field">
                    <label for="reportMessage">Message</label>
                    <textarea id="reportMessage" name="message" rows="5" required minlength="5" maxlength="2000" placeholder="Describe the bug, suggestion, or idea..."></textarea>
                </div>
                <div class="report-actions">
                    <button type="submit" class="report-submit-btn" id="reportSubmitBtn">Send Report</button>
                </div>
                <div id="reportStatus" class="report-status"></div>
            </form>
        </div>
    </div>

</body>
</html>
